<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>#DASP# Access Control (2) -</title><meta name=Description content="This is Houugen's Hugo Site"><meta property="og:title" content="#DASP# Access Control (2)"><meta property="og:description" content="0x00 Info 本篇为DASP TOP10的第二类漏洞Access Control。通过Parity及Rubixi合约分析理解此类型漏洞，改写OpenZeppelin中题目辅助理解。
0x01 Access Control 概念：攻击者通过合约不安全的可见性设置时可以直接访问合约的私有变量和函数，这其中需要可能需要绕过一些访问控制。
 在使用 Solidity 编写合约代码时，有几种默认的变量或函数访问域关键字：private, public, external 和 internal，对合约实例方法来讲，默认可见状态为 public，而合约实例变量的默认可见状态为 private。 具体讲解参见solidity develop visibility 这里需要重点关注下external和internal，external函数为合约接口，只能被其他合约调用（在自身需通过this.f()调用）。而internal函数只能被自身调用。
 此类漏洞经常会发生在以下场景：
 合约使用已经遗弃的tx.origin验证调用者 通过很长的require处理大量的认证逻辑 通过delegatecall调用代理库或者代理合约  通俗讲就是一般的智能合约会通过初始化指定合约的拥有者，来实现类似赋予特权后收回合约资金的功能。而初始化函数如果能被任何人调用的话，攻击者就会将自己成为合约拥有者进行提币或恶意操作。
这里最著名的漏洞就是Parity Wallet Hack。但在介绍该漏洞前需要理解一些solidity知识。
0x02 tx.origin Solidity: Tx Origin Attacks
在solidity官方文档中已经声明禁止使用tx.origin做认证。
Quote  If your wallet had checked msg.sender for authorization, it would get the address of the attack wallet, instead of the owner address. But by checking tx.origin, it gets the original address that kicked off the transaction, which is still the owner address."><meta property="og:type" content="article"><meta property="og:url" content="http://houugen.fun/posts/dasp-access-control-3.html"><meta property="article:published_time" content="2018-07-24T11:43:13+00:00"><meta property="article:modified_time" content="2018-07-24T11:43:13+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="#DASP# Access Control (2)"><meta name=twitter:description content="0x00 Info 本篇为DASP TOP10的第二类漏洞Access Control。通过Parity及Rubixi合约分析理解此类型漏洞，改写OpenZeppelin中题目辅助理解。
0x01 Access Control 概念：攻击者通过合约不安全的可见性设置时可以直接访问合约的私有变量和函数，这其中需要可能需要绕过一些访问控制。
 在使用 Solidity 编写合约代码时，有几种默认的变量或函数访问域关键字：private, public, external 和 internal，对合约实例方法来讲，默认可见状态为 public，而合约实例变量的默认可见状态为 private。 具体讲解参见solidity develop visibility 这里需要重点关注下external和internal，external函数为合约接口，只能被其他合约调用（在自身需通过this.f()调用）。而internal函数只能被自身调用。
 此类漏洞经常会发生在以下场景：
 合约使用已经遗弃的tx.origin验证调用者 通过很长的require处理大量的认证逻辑 通过delegatecall调用代理库或者代理合约  通俗讲就是一般的智能合约会通过初始化指定合约的拥有者，来实现类似赋予特权后收回合约资金的功能。而初始化函数如果能被任何人调用的话，攻击者就会将自己成为合约拥有者进行提币或恶意操作。
这里最著名的漏洞就是Parity Wallet Hack。但在介绍该漏洞前需要理解一些solidity知识。
0x02 tx.origin Solidity: Tx Origin Attacks
在solidity官方文档中已经声明禁止使用tx.origin做认证。
Quote  If your wallet had checked msg.sender for authorization, it would get the address of the attack wallet, instead of the owner address. But by checking tx.origin, it gets the original address that kicked off the transaction, which is still the owner address."><meta name=application-name content><meta name=apple-mobile-web-app-title content><link rel="shortcut icon" type=image/x-icon href=../favicon.ico><link rel=icon type=image/png sizes=32x32 href=../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=../apple-touch-icon.png><link rel=manifest href=../site.webmanifest><link rel=canonical href=http://houugen.fun/posts/dasp-access-control-3.html><link rel=prev href=http://houugen.fun/posts/dasp-reentrancy-2.html><link rel=next href=http://houugen.fun/posts/dasp-arithmetic-issues-4.html><link rel=stylesheet href=../lib/normalize/normalize.min.css><link rel=stylesheet href=../css/style.min.css><link rel=stylesheet href=../lib/fontawesome-free/all.min.css><link rel=stylesheet href=../lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"#DASP# Access Control (2)","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/houugen.fun\/posts\/dasp-access-control-3.html"},"genre":"posts","keywords":"BlockChain, DASP","wordcount":271,"url":"http:\/\/houugen.fun\/posts\/dasp-access-control-3.html","datePublished":"2018-07-24T11:43:13+00:00","dateModified":"2018-07-24T11:43:13+00:00","publisher":{"@type":"Organization","name":"Houugen"},"author":{"@type":"Person","name":"Houugen"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('dark'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'dark'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=../>Houugen<span class=header-title-post>モブ</span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=../posts/>Posts </a><a class=menu-item href=../tags/>Tags </a><a class=menu-item href=../categories/>Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=../>Houugen<span class=header-title-post>モブ</span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=../posts/>Posts</a><a class=menu-item href=../tags/>Tags</a><a class=menu-item href=../categories/>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">#DASP# Access Control (2)</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=../ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Houugen</a></span>&nbsp;<span class=post-category>included in <a href=../categories/%E5%8C%BA%E5%9D%97%E9%93%BE.html><i class="far fa-folder fa-fw"></i>区块链</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2018-07-24>2018-07-24</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;271 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;2 minutes&nbsp;<span id=/posts/dasp-access-control-3.html class=leancloud_visitors data-flag-title="#DASP# Access Control (2)">
<i class="far fa-eye fa-fw"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;views
</span>&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#0x00-info>0x00 Info</a></li><li><a href=#0x01-access-control>0x01 Access Control</a></li><li><a href=#0x02-txorigin>0x02 tx.origin</a></li><li><a href=#0x03-call--delegatecall>0x03 call & delegatecall</a></li><li><a href=#0x04-parity>0x04 Parity</a></li><li><a href=#0x05-rubixi>0x05 Rubixi</a></li><li><a href=#0x06-ethernaut>0x06 ethernaut</a></li><li><a href=#0x07-fomo3d>0x07 Fomo3D</a></li></ul></nav></div></div><div class=content id=content><h2 id=0x00-info>0x00 Info</h2><p>本篇为DASP TOP10的第二类漏洞<a href=https://www.dasp.co/#item-2 target=_blank rel="noopener noreffer">Access Control</a>。通过Parity及Rubixi合约分析理解此类型漏洞，改写OpenZeppelin中题目辅助理解。</p><h2 id=0x01-access-control>0x01 Access Control</h2><p><strong>概念</strong>：攻击者通过合约不安全的<strong>可见性</strong>设置时可以直接访问合约的私有变量和函数，这其中需要可能需要绕过一些访问控制。</p><blockquote><p>在使用 Solidity 编写合约代码时，有几种默认的变量或函数访问域关键字：private, public, external 和 internal，对合约实例方法来讲，默认可见状态为 public，而合约实例变量的默认可见状态为 private。
具体讲解参见<a href="https://solidity.readthedocs.io/en/develop/contracts.html?highlight=private#visibility-and-getters" target=_blank rel="noopener noreffer">solidity develop visibility</a>
这里需要重点关注下external和internal，external函数为合约接口，只能被其他合约调用（在自身需通过this.f()调用）。而internal函数只能被自身调用。</p></blockquote><p>此类漏洞经常会发生在以下场景：</p><ul><li>合约使用已经遗弃的tx.origin验证调用者</li><li>通过很长的require处理大量的认证逻辑</li><li>通过delegatecall调用代理库或者代理合约</li></ul><p>通俗讲就是一般的智能合约会通过初始化指定合约的拥有者，来实现类似赋予特权后收回合约资金的功能。而初始化函数如果能被任何人调用的话，攻击者就会将自己成为合约拥有者进行提币或恶意操作。</p><p>这里最著名的漏洞就是Parity Wallet Hack。但在介绍该漏洞前需要理解一些solidity知识。</p><h2 id=0x02-txorigin>0x02 tx.origin</h2><p><a href=https://medium.com/coinmonks/solidity-tx-origin-attacks-58211ad95514 target=_blank rel="noopener noreffer">Solidity: Tx Origin Attacks</a></p><p>在solidity官方文档中已经声明<a href=http://solidity.readthedocs.io/en/develop/security-considerations.html#tx-origin target=_blank rel="noopener noreffer">禁止使用tx.origin做认证</a>。</p><div class="details admonition quote open"><div class="details-summary admonition-title"><i class="icon fas fa-quote-right fa-fw"></i>Quote<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content>If your wallet had checked msg.sender for authorization, it would get the address of the attack wallet, instead of the owner address. But by checking tx.origin, it gets the original address that kicked off the transaction, which is still the owner address. The attack wallet instantly drains all your funds.</div></div></div><p>在solidity中获取合约调用方地址有tx.origin和msg.sender两种方式，但msg.sender代表直接调用者的地址，而tx.origin代表源调用地址。</p><p>举例：</p><p>用户A通过合约B调用合约C</p><p>对于合约B，tx.origin和msg.sender均为A</p><p>对于合约C，tx.origin为A，msg.sender为B</p><h2 id=0x03-call--delegatecall>0x03 call & delegatecall</h2><p>向合约发送消息有两种底层调用的接口，一个是call，一个是delegatecall。</p><p>call的原型为：
<code>&lt;address>.call.value(...)(...) returns (bool)</code></p><p>delegatecall原型为：
<code>&lt;address>.delegatecall(...) returns (bool)</code></p><p>具体的使用可以看<a href=http://me.tryblockchain.org/Solidity-call-callcode-delegatecall.html target=_blank rel="noopener noreffer">call相关函数</a></p><p>这里有两点需要特别强调</p><ol><li>二者的异同：</li></ol><table><thead><tr><th align=left>相同</th><th align=left>不同</th></tr></thead><tbody><tr><td align=left>1. 调用时传递合约所有gas</td><td align=left>1. call可以使用.value传ETH</td></tr><tr><td align=left>2. 执行失败返回fasle</td><td align=left>2. call的外部调用上下文是外部合约，而delegatecall的外部调用上下文是自身</td></tr></tbody></table><p>这里借图说话：
<img class=lazyload src=../svg/loading.min.svg data-src=DASP-Access-Control-3/1.png data-srcset="DASP-Access-Control-3/1.png, DASP-Access-Control-3/1.png 1.5x, DASP-Access-Control-3/1.png 2x" data-sizes=auto alt=DASP-Access-Control-3/1.png title=DASP-Access-Control-3/1.png></p><p>实例（可在<a href=https://remix.ethereum.org target=_blank rel="noopener noreffer">remix</a>操作）：</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=nx>contract</span> <span class=nx>A</span> <span class=p>{</span>
    <span class=nx>event</span> <span class=nx>callMeMaybeEvent</span><span class=p>(</span><span class=nx>address</span> <span class=nx>_from</span><span class=p>);</span>
    <span class=kd>function</span> <span class=nx>callMeMaybe</span><span class=p>()</span> <span class=nx>payable</span> <span class=kr>public</span> <span class=p>{</span>
        <span class=nx>callMeMaybeEvent</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=nx>contract</span> <span class=nx>B</span> <span class=p>{</span>
    <span class=kd>function</span> <span class=nx>callTheOtherContract</span><span class=p>(</span><span class=nx>address</span> <span class=nx>_contractAddress</span><span class=p>)</span> <span class=kr>public</span> <span class=p>{</span>
        <span class=nx>require</span><span class=p>(</span><span class=nx>_contractAddress</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=nx>bytes4</span><span class=p>(</span><span class=nx>keccak256</span><span class=p>(</span><span class=s2>&#34;callMeMaybe()&#34;</span><span class=p>))));</span>
        <span class=nx>require</span><span class=p>(</span><span class=nx>_contractAddress</span><span class=p>.</span><span class=nx>delegatecall</span><span class=p>(</span><span class=nx>bytes4</span><span class=p>(</span><span class=nx>keccak256</span><span class=p>(</span><span class=s2>&#34;callMeMaybe()&#34;</span><span class=p>))));</span>
        <span class=nx>SomeLib</span><span class=p>.</span><span class=nx>calledSomeLibFun</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=nx>library</span> <span class=nx>SomeLib</span> <span class=p>{</span>
    <span class=nx>event</span> <span class=nx>calledSomeLib</span><span class=p>(</span><span class=nx>address</span> <span class=nx>_from</span><span class=p>);</span>
    <span class=kd>function</span> <span class=nx>calledSomeLibFun</span><span class=p>()</span> <span class=kr>public</span> <span class=p>{</span>
        <span class=nx>calledSomeLib</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><ol start=2><li>向另一个合约发送数据时，找不到对应的方法签名，会默认调用fallback()函数。而solidity中的代理库和代理合约正是依据此特性。具体可以看看<a href=https://blog.zeppelin.solutions/proxy-libraries-in-solidity-79fbe4b970fd target=_blank rel="noopener noreffer">Proxy Libraries in Solidity</a>。Parity正是依照代理库模式开发，该模式可以解决大量代码的重复部署问题，同时能够减少重复部署产生的gas消耗，最重要可以实现更新只需更新库而不用重新更新部署每个项目。</li></ol><p>有了上述的知识储备后进入正题，现实合约中的访问控制漏洞。</p><h2 id=0x04-parity>0x04 Parity</h2><p>首先建议阅读一些分析文章，然后说说自己的理解
推荐zeppelin（区块链安全公司）的分析：</p><ul><li><a href=https://blog.zeppelin.solutions/on-the-parity-wallet-multisig-hack-405a8c12e8f7 target=_blank rel="noopener noreffer">The Parity Wallet Hack Explained</a></li></ul><p>中文分析：</p><ul><li><a href=http://www.freebuf.com/vuls/177805.html target=_blank rel="noopener noreffer">Parity多重签名函数库自杀漏洞</a></li><li><a href=http://www.freebuf.com/vuls/177886.html target=_blank rel="noopener noreffer">Parity多重签名合约Delegatecall漏洞回顾</a></li></ul><p>Code:</p><ul><li><a href=https://etherscan.io/address/0x863df6bfa4469f3ead0be8f9f2aae51c91a907b4#code target=_blank rel="noopener noreffer">WalletLibrary</a></li><li><a href=https://github.com/paritytech/parity-ethereum/blob/4d08e7b0aec46443bf26547b17d10cb302672835/js/src/contracts/snippets/enhanced-wallet.sol#L424 target=_blank rel="noopener noreffer">enhanced-wallet.sol</a></li></ul><p>大体浏览钱包合约代码，其中有四个合约模块：</p><div class=highlight><pre class=chroma><code class=language-solidity data-lang=solidity><span class=n>WalletEvents</span>  <span class=c1>// 事件合约，打印日志
</span><span class=c1></span><span class=n>WalletAbi</span>    <span class=c1>// 提供abi接口
</span><span class=c1></span><span class=n>WalletLibrary</span>   <span class=c1>// 代理库，继承WalletEvents。钱包的核心逻辑，漏洞点正是该合约的initWallet -&gt; initMultiowned函数
</span><span class=c1></span><span class=n>Wallet</span>  <span class=c1>// 钱包合约，可以看到代码量很小，通过fallback函数的delegatecall函数调用WalletLibrary函数
</span></code></pre></div><p>可以看到Parity使用了代理库模式。在使用Wallet逻辑时，是间接通过传递参数调用WalletLibrary中函数
<code>_walletLibrary.delegatecall(msg.data);</code>
而WalletLibrary库中initWallet -> initMultiowned函数又没有做任何校验即可改变合约的拥有者，故而形成漏洞。</p><h2 id=0x05-rubixi>0x05 Rubixi</h2><p>Rubixi合约中的访问控制漏洞 <a href=https://etherscan.io/address/0xe82719202e5965Cf5D9B6673B7503a3b92DE20be#code target=_blank rel="noopener noreffer">Code</a>
可以直接copy进remix进行测试。将creator变量修改为public，通过DynamicPyramid函数即可恶意修改creator。</p><h2 id=0x06-ethernaut>0x06 ethernaut</h2><p>在OpenZeppelin的<a href=https://github.com/OpenZeppelin/ethernaut target=_blank rel="noopener noreffer">ethernaut</a>中有道<a href=https://github.com/OpenZeppelin/ethernaut/blob/master/contracts/levels/Delegation.sol target=_blank rel="noopener noreffer">Delegation</a>题目，正好是此漏洞类型。
修改下合约名和函数名便于对比Parity漏洞进行理解：</p><div class=highlight><pre class=chroma><code class=language-solidity data-lang=solidity><span class=kd>contract</span> <span class=n>WalletLibaray</span> <span class=p>{</span>
    <span class=kt>address</span> <span class=kr>public</span> <span class=n>owner</span><span class=p>;</span>

    <span class=kd>function</span> <span class=n>WalletLibaray</span><span class=p>(</span><span class=kt>address</span> <span class=n>_owner</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>owner</span> <span class=o>=</span> <span class=n>_owner</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=kd>function</span> <span class=n>initWallet</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>owner</span> <span class=o>=</span> <span class=nb>msg</span><span class=p>.</span><span class=nb>sender</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=kd>contract</span> <span class=n>Wallet</span> <span class=p>{</span>
    <span class=kt>address</span> <span class=kr>public</span> <span class=n>owner</span><span class=p>;</span>
    <span class=n>WalletLibaray</span> <span class=n>_walletLib</span><span class=p>;</span>

    <span class=kd>function</span> <span class=n>Wallet</span><span class=p>(</span><span class=kt>address</span> <span class=n>_walletLibAddress</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>_walletLib</span> <span class=o>=</span> <span class=n>WalletLibaray</span><span class=p>(</span><span class=n>_walletLibAddress</span><span class=p>);</span>
        <span class=n>owner</span> <span class=o>=</span> <span class=nb>msg</span><span class=p>.</span><span class=nb>sender</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>_walletLib</span><span class=p>.</span><span class=nb>delegatecall</span><span class=p>(</span><span class=nb>msg</span><span class=p>.</span><span class=n>data</span><span class=p>))</span> <span class=p>{</span>
            <span class=nb>this</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>Wallet合约中构造函数实例化WalletLibaray。
通过fallback函数中delegatecall传参调用WalletLibaray库函数，调用无任何访问控制的initWallet函数即可改变owner。</p><h2 id=0x07-fomo3d>0x07 Fomo3D</h2><p>参见<a href=https://houugen.fun/2018/08/09/DASP-Bad-Randomness-6/#more target=_blank rel="noopener noreffer">#DASP# Bad Randomness (6) &ndash; Fomo3D</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2018-07-24</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=../tags/blockchain.html>BlockChain</a>,&nbsp;<a href=../tags/dasp.html>DASP</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=../>Home</a></span></section></div><div class=post-nav><a href=../posts/dasp-reentrancy-2.html class=prev rel=prev title="#DASP# Reentrancy (1)"><i class="fas fa-angle-left fa-fw"></i>#DASP# Reentrancy (1)</a>
<a href=../posts/dasp-arithmetic-issues-4.html class=next rel=next title="#DASP# Arithmetic Issues (3)">#DASP# Arithmetic Issues (3)<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=valine class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://valine.js.org/>Valine</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2020</span>&nbsp;|&nbsp;<span class=license>Houugen</span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=../lib/valine/valine.min.css><script type=text/javascript src=../lib/valine/Valine.min.js></script><script type=text/javascript src=../lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=../lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=../lib/algoliasearch/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=../lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=../lib/clipboard/clipboard.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":20},"comment":{"valine":{"appId":"QhRivi4Qm3PjvD0WoqEiJv5n-gzGzoHsz","appKey":"gHPJRKJ7Vfi2xHjiJ3AcP92S","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@5.0.1/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"en","pageSize":10,"placeholder":"Your comment ...","recordIP":true,"serverURLs":"https://leancloud.cn","visitor":true}},"search":{"algoliaAppID":"63ROI1DYLO","algoliaIndex":"houugen_blog","algoliaSearchKey":"0282c2777b386667ccc099a27da8a3cb","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type=text/javascript src=../js/theme.min.js></script></body></html>